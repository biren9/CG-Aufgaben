#VRML v2.0 utf8
#http://rvirtual.free.fr/programmation/VRML/tuto_eng/tut13.html
#IndexedFaceSet example: a pyramid
Background {
	groundColor [0.466, 0.733, 0.164, 0.466, 0.733, 0.164]
	groundAngle [3.14, 1.57]
	skyColor [0.129, 0.396, 0.815]
}

DirectionalLight {
  direction 0 0 0
}

Transform {
	translation -80 0 -300
	rotation 1 1 0 0.4
	children [
		DEF Reichstag Group {
			children [
				Transform {
					translation 0 0 0
					children [
						DEF Turm Shape {
							appearance Appearance {
							texture ImageTexture {
								url "brick.jpg"
								}
							}
							geometry IndexedFaceSet {
								coord Coordinate {
									point [
										# Bottom
										6 0 0,
										18.5 0 0,
										18.5 0 2,
										20.5 0 2,
										20.5 0 4,
										22.5 0 4,
										22.5 0 17,
										20.5 0 17,
										20.5 0 19,
										18.5 0 19,
										18.5 0 21,
										6 0 21,
										6 0 19,
										4 0 19,
										4 0 17,
										2 0 17,
										2 0 4,
										4 0 4,
										4 0 2,
										6 0 2,
										6 40 0,
										18.5 40 0,
										18.5 40 2,
										20.5 40 2,
										20.5 40 4,
										22.5 40 4,
										22.5 40 17,
										20.5 40 17,
										20.5 40 19,
										18.5 40 19,
										18.5 40 21,
										6 40 21,
										6 40 19,
										4 40 19,
										4 40 17,
										2 40 17,
										2 40 4,
										4 40 4,
										4 40 2,
										6 40 2,
									]
								}
								coordIndex [
									0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 -1 
									39 38 37 36 35 34 33 32 31 30 29 28 27 26 25 24 23 22 21 20 -1
									20 21 1 0 -1 
									21 22 2 1 -1
									22 23 3 2 -1
									23 24 4 3 -1
									24 25 5 4 -1
									25 26 6 5 -1
									26 27 7 6 -1
									27 28 8 7 -1
									28 29 9 8 -1
									29 30 10 9 -1
									30 31 11 10 -1
									31 32 12 11 -1
									32 33 13 12 -1
									33 34 14 13 -1
									34 35 15 14 -1
									35 36 16 15 -1
									36 37 17 16 -1
									37 38 18 17 -1
									38 39 19 18 -1
									39 20 0 19 -1
								]
							}
						}
					]
				}
				Transform {
					translation 119 0 0
					children [
						USE Turm
					]
				}
				Transform {
					translation 119 0 86
					children [
						USE Turm
					]
				}
				Transform {
					translation 0 0 86
					children [
						USE Turm
					]
				}

				Transform {
					translation 5 0 18
					children [
						DEF AussenMauer Shape {
							appearance Appearance {
							texture ImageTexture {
								url "mauer.png"
								}
							}
							geometry DEF IndexedFaceSetMauer  IndexedFaceSet {
								texCoord TextureCoordinate { 
									point [ 0 0, 
											1 0, 
											0 0.32,
											0.29 0.32,
											1 0.32,
											0 0.43,
											0.29 0.43,
										] 
									} 
								texCoordIndex [ 
									0 1 4 2 -1, 
									2 3 6 5 -1, 
									0 1 4 2 -1, 
									0 1 4 2 -1, 
									0 1 4 2 -1, 
									0 1 4 2 -1, 
								]
								coord Coordinate {
									point [
										0 0 0,
										14 0 0,
										14 0 68
										0 0 68,
										0 30 0,
										14 30 0,
										14 30 68
										0 30 68,
									]
								}
								coordIndex [
									0 1 2 3 -1
									4 7 6 5 -1
									0 3 7 4 -1
									1 0 4 5 -1
									2 1 5 6 -1
									3 2 6 7 -1
								]
							}
						}
					]
				}
				Transform {
					translation 123 0 18
					children [
						USE AussenMauer
					]
				}
				Transform {
					rotation 0 1 0 1.57
					translation 20 0 18
					scale 1 1 1.5
					children [
						USE AussenMauer
					]
				}
				#Vorderseite
				Transform {
					rotation 0 1 0 1.57
					translation 20 0 100
					scale 2 1 1.5
					children [
						Shape {
							appearance Appearance {
								texture ImageTexture {
									url "brick.jpg"
									}
								}
							geometry USE IndexedFaceSetMauer
						}
					]
				}

				#Innenmauer
				Transform {
					translation 50 0 18
					scale 3 1 0.8
					children [
						USE AussenMauer
					]
				}

				Transform {
					translation 50 30 90
					children [
						Shape {
							appearance Appearance {
							}
							geometry IndexedFaceSet {
								coord Coordinate {
									point [
										0 0 0,
										40 0 0,
										20 15 0,

										0 0 10,
										40 0 10,
										20 15 10
									]
								}
								coordIndex [
									0 2 1 -1
									3 4 5 -1

									0 3 5 2 -1
									0 1 4 3 -1
									1 2 5 4 -1
								]
							}
						}
					]
				}

				#Kuppel
				Transform {
					translation 71 30 40
					children [
						Shape {
							appearance Appearance {
								texture ImageTexture {
									url "Kuppel.png"
								}
							}
							geometry Sphere {
								radius 20
							}
						}
					]
				}
				
			]
		}
	]
}